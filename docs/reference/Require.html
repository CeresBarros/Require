<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Require: Installing and Loading R Packages for Reproducible Workflows — Require-package • Require</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Require: Installing and Loading R Packages for Reproducible Workflows — Require-package" />
<meta property="og:description" content="A single key function, 'Require' that wraps 'install.packages',
    'remotes::install_github', 'versions::install.versions', and 'base::require'
    that allows for reproducible workflows. As with other functions in a
    reproducible workflow, this package emphasizes functions that return the 
    same result whether it is the first or subsequent times running the function.
    Maturing.
This is an &quot;all in one&quot; function that will run install.packages for
CRAN packages, remotes::install_github for https://github.com/ packages and
will install specific versions of each package if versions are specified either
via an (in)equality (e.g., &quot;Holidays (&amp;gt;=1.0.0)&quot; or &quot;Holidays (==1.0.0)&quot; for 
an exact version) or with a
packageVersionFile. If require = TRUE, the default, 
the function will then run require on all
named packages that satisfy their version requirements. If packages are already installed
(packages supplied), and their optional version numbers are satisfied,
then the &quot;install&quot; component will be skipped." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Require</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.13</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/Require/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Require: Installing and Loading R Packages for Reproducible Workflows</h1>
    <small class="dont-index">Source: <a href='https://github.com/PredictiveEcology/Require/blob/master/R/Require-package.R'><code>R/Require-package.R</code></a>, <a href='https://github.com/PredictiveEcology/Require/blob/master/R/Require.R'><code>R/Require.R</code></a></small>
    <div class="hidden name"><code>Require.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A single key function, 'Require' that wraps 'install.packages',
    'remotes::install_github', 'versions::install.versions', and 'base::require'
    that allows for reproducible workflows. As with other functions in a
    reproducible workflow, this package emphasizes functions that return the 
    same result whether it is the first or subsequent times running the function.
    Maturing.</p>
<p>This is an "all in one" function that will run <code>install.packages</code> for
CRAN packages, <code><a href='https://remotes.r-lib.org/reference/install_github.html'>remotes::install_github</a></code> for <a href='https://github.com/'>https://github.com/</a> packages and
will install specific versions of each package if versions are specified either
via an (in)equality (e.g., <code>"Holidays (&gt;=1.0.0)"</code> or <code>"Holidays (==1.0.0)"</code> for 
an exact version) or with a
<code>packageVersionFile</code>. If <code>require = TRUE</code>, the default, 
the function will then run <code>require</code> on all
named packages that satisfy their version requirements. If packages are already installed
(<code>packages</code> supplied), and their optional version numbers are satisfied,
then the "install" component will be skipped.</p>
    </div>

    <pre class="usage"><span class='fu'>Require</span><span class='op'>(</span>
  <span class='va'>packages</span>,
  <span class='va'>packageVersionFile</span>,
  <span class='va'>libPaths</span>,
  install_githubArgs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  install.packagesArgs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  standAlone <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"Require.standAlone"</span>, <span class='cn'>FALSE</span><span class='op'>)</span>,
  install <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"Require.install"</span>, <span class='cn'>TRUE</span><span class='op'>)</span>,
  require <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"Require.require"</span>, <span class='cn'>TRUE</span><span class='op'>)</span>,
  repos <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"repos"</span><span class='op'>)</span>,
  purge <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"Require.purge"</span>, <span class='cn'>FALSE</span><span class='op'>)</span>,
  verbose <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"Require.verbose"</span>, <span class='cn'>FALSE</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>packages</th>
      <td><p>Character vector of packages to install via
<code>install.packages</code>, then load (i.e., with <code>library</code>). If it is
one package, it can be unquoted (as in <code>require</code>). In the case of a
GitHub package, it will be assumed that the name of the repository is the
name of the package. If this is not the case, then pass a named character
vector here, where the names are the package names that could be different
than the GitHub repository name.</p></td>
    </tr>
    <tr>
      <th>packageVersionFile</th>
      <td><p>If provided, then this will override all
<code>install.package</code> calls with <code>versions::install.versions</code></p></td>
    </tr>
    <tr>
      <th>libPaths</th>
      <td><p>The library path (or libraries) where all packages should be
installed, and looked for to load (i.e., call <code>library</code>). This can be
used to create isolated, stand alone package installations, if used with
<code>standAlone = TRUE</code>. Currently, the path supplied here will be
prepended to <code><a href='https://rdrr.io/r/base/libPaths.html'>.libPaths()</a></code> (temporarily during this call) to
<code>Require</code> if <code>standAlone = FALSE</code> or will set (temporarily)
     <code><a href='https://rdrr.io/r/base/libPaths.html'>.libPaths()</a></code> to <code>c(libPaths, tail(libPaths(), 1)</code> to keep base packages.</p></td>
    </tr>
    <tr>
      <th>install_githubArgs</th>
      <td><p>List of optional named arguments, passed to <code>install_github</code>.</p></td>
    </tr>
    <tr>
      <th>install.packagesArgs</th>
      <td><p>List of optional named arguments, passed to <code>install.packages</code>.</p></td>
    </tr>
    <tr>
      <th>standAlone</th>
      <td><p>Logical. If <code>TRUE</code>, all packages will be installed to and loaded from
                  the <code>libPaths</code> only. If <code>FALSE</code>, then <code>libPath</code> will
                  be prepended to <code><a href='https://rdrr.io/r/base/libPaths.html'>.libPaths()</a></code> during the <code>Require</code> call,
                  resulting in shared packages, i.e.,
                  it will include the user's default package folder(s).
                  This can be create dramatically faster
installs if the user has a substantial number of the packages already in
their personal library. Default <code>FALSE</code> to minimize package installing.</p></td>
    </tr>
    <tr>
      <th>install</th>
      <td><p>Logical or "force". If <code>FALSE</code>, this will not try to
install anything. If <code>"force"</code>, then it will force installation of
requested packages, mimicking a call to e.g., <code>install.packages</code>. If
<code>TRUE</code>, the default, then this function will try to install any
missing packages or dependencies.</p></td>
    </tr>
    <tr>
      <th>require</th>
      <td><p>Logical. If <code>TRUE</code>, the default, then the function will
attempt to call <code>require</code> on all requested <code>packages</code>, possibly
after they are installed.</p></td>
    </tr>
    <tr>
      <th>repos</th>
      <td><p>The remote repository (e.g., a CRAN mirror), passed to either
<code>install.packages</code>, <code>install_github</code> or <code>installVersions</code>.</p></td>
    </tr>
    <tr>
      <th>purge</th>
      <td><p>Logical. Should all caches be purged Default is 
<code><a href='https://rdrr.io/r/base/options.html'>getOption("Require.purge", FALSE)</a></code>.
There is a lot of internal caching of results throughout 
the <code>Require</code> package. These help with speed and reduce calls to internet sources.
However, sometimes these caches must be purged. The cached values are renewed 
when found to be too old, with the age limit. 
This maximum age can be set in seconds with the environment variable 
<code>R_AVAILABLE_PACKAGES_CACHE_CONTROL_MAX_AGE</code>, or if unset, 
defaults to 3600  (one hour -- see
<code><a href='https://rdrr.io/r/utils/available.packages.html'>available.packages</a></code>).</p>
<p>Internally, there are calls to <code>available.packages</code></p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Numeric. If <code>1</code> (less) or <code>2</code> (more), there will be
a data.table with many details attached to the output</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Passed to <em>all</em> of <code>install_github</code>,
<code>install.packages</code>, and <code><a href='https://remotes.r-lib.org/reference/install_version.html'>remotes::install_version</a></code>, i.e., the
function will error if all of these functions can not use the ... argument.
Good candidates are e.g., <code>type</code> or <code>dependencies</code>. This can be
used with <code>install_githubArgs</code> or <code>install.packageArgs</code> which
give individual options for those 2 internal function calls.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>standAlone</code> will either put the <code>Require</code>d packages and their
dependencies <em>all</em> within the <code>libPaths</code> (if <code>TRUE</code>) or if
<code>FALSE</code> will only install packages and their dependencies that are
otherwise not installed in <code>.libPaths()[1]</code>, i.e., the current active
R package directory. Any packages or dependencies that are not yet installed will
be installed in <code>libPaths</code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>For advanced use and diagnosis, the user can set <code>verbose = TRUE</code> or
<code>1</code> or <code>2</code> (or via <code><a href='https://rdrr.io/r/base/options.html'>options("Require.verbose")</a></code>). This will
attache an attribute <code><a href='https://rdrr.io/r/base/attr.html'>attr(obj, "Require")</a></code> to the output of this
function.</p>
    <h2 class="hasAnchor" id="github-package"><a class="anchor" href="#github-package"></a>GitHub Package</h2>

    

<p>Follows <code><a href='https://remotes.r-lib.org/reference/install_github.html'>remotes::install_github</a></code> standard as this is what is used internally.
As with <code><a href='https://remotes.r-lib.org/reference/install_github.html'>remotes::install_github</a></code>, it is not possible to specify a past
version of a GitHub package, without supplying a SHA that had that package
version. Similarly, if a developer does a local install e.g., via 
<code><a href='https://devtools.r-lib.org//reference/install.html'>devtools::install</a></code>, of an active project, this package will not be able 
know of the GitHub state, and thus <code>pkgSnapshot</code> will not be able to 
recover this state as there is no SHA associated with a local
installation. Use <code>Require</code> or <code>install_github</code> to create
a record of the GitHub state.</p>
    <h2 class="hasAnchor" id="package-snapshots"><a class="anchor" href="#package-snapshots"></a>Package Snapshots</h2>

    

<p>To build a snapshot of the desired packages and their versions, first run
<code>Require</code> with all packages, then <code>pkgSnapshot</code>. If a
<code>libPaths</code> is used, it must be used in both functions.</p>
    <h2 class="hasAnchor" id="mutual-dependencies"><a class="anchor" href="#mutual-dependencies"></a>Mutual Dependencies</h2>

    

<p>This function works best if all required packages are called within one
<code>Require</code> call, as all dependencies can be identified together, and all
package versions will be addressed (if there are no conflicts), 
allowing a call to <code><a href='pkgSnapshot.html'>pkgSnapshot</a></code> to take a snapshot or "record" of 
the current collection of packages and versions.</p>
    <h2 class="hasAnchor" id="local-cache-of-packages"><a class="anchor" href="#local-cache-of-packages"></a>Local Cache of Packages</h2>

    

<p>When installing new packages, `Require` will put all source and binary files
in an R-version specific subfolder of 
<code><a href='https://rdrr.io/r/base/options.html'>getOption("Require.RPackageCache")</a></code> whose default is `NULL`, meaning 
<em>do not cache packages locally</em>,
and will reuse them if needed. To turn
on this feature, set <code><a href='https://rdrr.io/r/base/options.html'>options("Require.RPackageCache" = "someExistingFolder")</a></code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Useful links:</p><ul>
<li><p><a href='https://Require.predictiveecology.org'>https://Require.predictiveecology.org</a></p></li>
<li><p><a href='https://github.com/PredictiveEcology/Require'>https://github.com/PredictiveEcology/Require</a></p></li>
<li><p>Report bugs at <a href='https://github.com/PredictiveEcology/Require/issues'>https://github.com/PredictiveEcology/Require/issues</a></p></li>
</ul>

</div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p><strong>Maintainer</strong>: Eliot J B McIntire <a href='mailto:eliot.mcintire@canada.ca'>eliot.mcintire@canada.ca</a> (<a href='https://orcid.org/0000-0002-6914-8316'>ORCID</a>)</p>
<p>Other contributors:</p><ul>
<li><p>Her Majesty the Queen in Right of Canada, as represented by the Minister of Natural Resources Canada [copyright holder]</p></li>
</ul>



    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># simple usage, like conditional install.packages then library</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://Require.predictiveecology.org'>Require</a></span><span class='op'>)</span>
<span class='fu'>Require</span><span class='op'>(</span><span class='st'>"stats"</span><span class='op'>)</span> <span class='co'># analogous to require(stats), but it checks for</span>
                 <span class='co'>#   pkg dependencies, and installs them, if missing</span>
<span class='va'>tempPkgFolder</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Packages"</span><span class='op'>)</span>

<span class='co'># use standAlone, means it will put it in libPaths, even if it already exists</span>
<span class='co'>#   in another local library (e.g., personal library)</span>
<span class='fu'>Require</span><span class='op'>(</span><span class='st'>"crayon"</span>, libPaths <span class='op'>=</span> <span class='va'>tempPkgFolder</span>, standAlone <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># make a package version snapshot of installed packages</span>
<span class='va'>packageVersionFile</span> <span class='op'>&lt;-</span> <span class='st'>"_.packageVersionTest.txt"</span>
<span class='op'>(</span><span class='fu'><a href='pkgSnapshot.html'>pkgSnapshot</a></span><span class='op'>(</span>libPath <span class='op'>=</span> <span class='va'>tempPkgFolder</span>, <span class='va'>packageVersionFile</span>, standAlone <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Restart R -- to remove the old temp folder (it disappears with restarting R)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://Require.predictiveecology.org'>Require</a></span><span class='op'>)</span>
<span class='va'>tempPkgFolder</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Packages"</span><span class='op'>)</span>
<span class='va'>packageVersionFile</span> <span class='op'>&lt;-</span> <span class='st'>"_.packageVersionTest.txt"</span>
<span class='co'># Reinstall and reload the exact version from previous</span>
<span class='fu'>Require</span><span class='op'>(</span>packageVersionFile <span class='op'>=</span> <span class='va'>packageVersionFile</span>, libPaths <span class='op'>=</span> <span class='va'>tempPkgFolder</span>, standAlone <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Create mismatching versions -- desired version is older than current installed</span>
<span class='co'># This will try to install the older version, overwriting the newer version</span>
<span class='va'>desiredVersion</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>instPkgs<span class='op'>=</span><span class='st'>"crayon"</span>, instVers <span class='op'>=</span> <span class='st'>"1.3.2"</span>, stringsAsFactors <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.table</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='va'>packageVersionFile</span>, <span class='va'>desiredVersion</span>, row.names <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>newTempPkgFolder</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Packages2"</span><span class='op'>)</span>

<span class='co'># Note this will install the 1.3.2 version (older that current on CRAN), but</span>
<span class='co'>#   because crayon is still loaded in memory, it will return TRUE, using the current version</span>
<span class='co'>#   of crayon. To start using the older 1.3.2, need to unload or restart R</span>
<span class='fu'>Require</span><span class='op'>(</span><span class='st'>"crayon"</span>, packageVersionFile <span class='op'>=</span> <span class='va'>packageVersionFile</span>,
        libPaths <span class='op'>=</span> <span class='va'>newTempPkgFolder</span>, standAlone <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># restart R again to get access to older version</span>
<span class='co'># run again, this time, correct "older" version installs in place of newer one</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://Require.predictiveecology.org'>Require</a></span><span class='op'>)</span>
<span class='va'>packageVersionFile</span> <span class='op'>&lt;-</span> <span class='st'>"_.packageVersionTest.txt"</span>
<span class='va'>newTempPkgFolder</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Packages3"</span><span class='op'>)</span>
<span class='fu'>Require</span><span class='op'>(</span><span class='st'>"crayon"</span>, packageVersionFile <span class='op'>=</span> <span class='va'>packageVersionFile</span>,
        libPaths <span class='op'>=</span> <span class='va'>newTempPkgFolder</span>, standAlone <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Mutual dependencies, only installs once -- e.g., httr</span>
<span class='va'>tempPkgFolder</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Packages"</span><span class='op'>)</span>
<span class='fu'>Require</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"cranlogs"</span>, <span class='st'>"covr"</span><span class='op'>)</span>, libPaths <span class='op'>=</span> <span class='va'>tempPkgFolder</span>, standAlone <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'>##########################################################################################</span>
<span class='co'># Isolated projects -- Just use a project folder and pass to libPaths or set .libPaths() #</span>
<span class='co'>##########################################################################################</span>
<span class='co'># GitHub packages -- restart R because crayon is needed</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://Require.predictiveecology.org'>Require</a></span><span class='op'>)</span>
<span class='va'>ProjectPackageFolder</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"ProjectA"</span><span class='op'>)</span>
<span class='co'>#  THIS ONE IS LARGE -- &gt; 100 dependencies -- use standAlone = FALSE to</span>
<span class='co'>#    reuse already installed packages --&gt; this won't allow as much control</span>
<span class='co'>#    of package versioning</span>
<span class='fu'>Require</span><span class='op'>(</span><span class='st'>"PredictiveEcology/SpaDES@development"</span>,
        libPaths <span class='op'>=</span> <span class='va'>ProjectPackageFolder</span>, standAlone <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='co'># To keep totally isolated: use standAlone = TRUE</span>
<span class='co'>#   --&gt; setting .libPaths() directly means standAlone is not necessary; it will only</span>
<span class='co'>#   use .libPaths()</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://Require.predictiveecology.org'>Require</a></span><span class='op'>)</span>
<span class='va'>ProjectPackageFolder</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='st'>"~"</span>, <span class='st'>"ProjectA"</span><span class='op'>)</span>
<span class='fu'><a href='setLibPaths.html'>setLibPaths</a></span><span class='op'>(</span><span class='va'>ProjectPackageFolder</span><span class='op'>)</span>
<span class='fu'>Require</span><span class='op'>(</span><span class='st'>"PredictiveEcology/SpaDES@development"</span><span class='op'>)</span> <span class='co'># the latest version on GitHub</span>
<span class='fu'>Require</span><span class='op'>(</span><span class='st'>"PredictiveEcology/SpaDES@23002b2a92a92df4ccba7f51cdd82798800b2fa7"</span><span class='op'>)</span> 
                              <span class='co'># a specific commit (by using the SHA)</span>


<span class='co'>############################################################################</span>
<span class='co'># Mixing and matching GitHub, CRAN, with and without version numbering</span>
<span class='co'>############################################################################</span>
<span class='co'># Restart R -- when installing/loading packages, start fresh</span>
<span class='va'>pkgs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Holidays (&lt;=1.0.4)"</span>, <span class='st'>"TimeWarp (&lt;= 1.0.3)"</span>, <span class='st'>"glmm (&lt;=1.3.0)"</span>,
          <span class='st'>"achubaty/amc@development"</span>, <span class='st'>"PredictiveEcology/LandR@development (&gt;=0.0.1)"</span>,
          <span class='st'>"PredictiveEcology/LandR@development (&gt;=0.0.2)"</span>, <span class='st'>"ianmseddy/LandR.CS (&lt;=0.0.1)"</span><span class='op'>)</span>
<span class='fu'>Require</span><span class='fu'>::</span><span class='fu'>Require</span><span class='op'>(</span><span class='va'>pkgs</span><span class='op'>)</span>

<span class='co'>############################################################################</span>
<span class='co'># Using libPaths -- This will only be used inside this function;</span>
<span class='co'># To change .libPaths() for the whole session use a manually call to</span>
<span class='co'># setLibPaths(newPath) first</span>
<span class='co'>############################################################################</span>
<span class='fu'>Require</span><span class='fu'>::</span><span class='fu'>Require</span><span class='op'>(</span><span class='st'>"SpaDES"</span>, libPaths <span class='op'>=</span> <span class='st'>"~/TempLib2"</span>, standAlone <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='co'>############################################################################</span>
<span class='co'># Persistent separate packages</span>
<span class='co'>############################################################################</span>
<span class='fu'><a href='setLibPaths.html'>setLibPaths</a></span><span class='op'>(</span><span class='st'>"~/TempLib2"</span>, standAlone <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'>Require</span><span class='fu'>::</span><span class='fu'>Require</span><span class='op'>(</span><span class='st'>"SpaDES"</span><span class='op'>)</span> <span class='co'># not necessary to specify standAlone here because .libPaths are set</span>

<span class='co'>############################################################################</span>
<span class='co'># Installing on many machines that are connected by a shared drive</span>
<span class='co'>############################################################################</span>
<span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span><span class='st'>"Require.RPackageCache"</span> <span class='op'>=</span> <span class='st'>"~/binaryRPackages"</span><span class='op'>)</span> <span class='co'># create binaries on the fly. </span>
                                                       <span class='co'># Put thes in a shared location.</span>
<span class='co'># May need to install Require in main user library before setting library paths for project</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://Require.predictiveecology.org'>"Require"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"Require"</span><span class='op'>)</span> 
<span class='fu'><a href='setLibPaths.html'>setLibPaths</a></span><span class='op'>(</span><span class='st'>"./packages"</span><span class='op'>)</span> <span class='co'># not shared location for library path; no longer using main user lib</span>
<span class='fu'>Require</span><span class='fu'>::</span><span class='fu'>Require</span><span class='op'>(</span>packageVersionFile <span class='op'>=</span> <span class='st'>"./packageVersions.txt"</span>,
                 standAlone <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


