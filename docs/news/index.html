<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • Require</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Require</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.13</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/Require/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/PredictiveEcology/Require/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="version-0013" class="section level1">
<h1 class="page-header" data-toc-text="0.0.13">
<a href="#version-0013" class="anchor"></a>version 0.0.13<small> Unreleased </small>
</h1>
<ul>
<li>fix CRAN policy violation – dealt with extraneous folder created during testing</li>
</ul>
</div>
    <div id="version-0012" class="section level1">
<h1 class="page-header" data-toc-text="0.0.12">
<a href="#version-0012" class="anchor"></a>version 0.0.12<small> 2021-05-26 </small>
</h1>
<div id="dependency-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#dependency-changes" class="anchor"></a>Dependency changes</h2>
<ul>
<li>with the release of R 4.1, we dropped support for R 3.5. R 3.6 (<code>oldrel</code>) and newer are supported.</li>
</ul>
</div>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li>
<code>setup</code>: new function for creating a new project. See <code>readme.md</code>
</li>
<li>
<code>setLibPath</code> and package caching (via <code><a href="https://rdrr.io/r/base/options.html">options("RPackageCache")</a></code>) now automatically create and use a subfolder of user-provided path with the R major &amp; minor version number (as with normal R behaviour) to allow multiple R versions to coexist on the same machine.</li>
<li>
<code>setLibPaths</code> gains a new argument, <code>updateRprofile</code>, which allows a user’s changes to <code><a href="https://rdrr.io/r/base/libPaths.html">.libPaths()</a></code> to persist through an R restart. Set to <code><a href="https://rdrr.io/r/base/options.html">getOption("Require.updateRprofile", FALSE)</a></code>, at start</li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li>several edge cases with complex loading of many packages</li>
<li>was incorrectly (not) loading base packages, e.g., <code>parallel</code>
</li>
<li>small minor bugfixes</li>
<li>In cases where a DESCRIPTION file had both a package with a minimum version (e.g., in Imports) and a REMOTES: for that package (without a minimum version, but with a branch, say), <code>Require</code> would use the REMOTES: entry. But since that means there is no minimum package version, and <code>Require</code> does not automatically install a package that is not violating a minimum version number, it would not install anything. Now, it harmonizes the 2 entries for a given package, and uses both the minimum version number and the git branch as the potential source to find that version number.</li>
<li>allow either <code>master</code> or <code>main</code> branches to be installed from GitHub, without needing to specify (<a href='https://github.com/PredictiveEcology/Require/issues/26'>#26</a>)</li>
</ul>
</div>
</div>
    <div id="version-0010" class="section level1">
<h1 class="page-header" data-toc-text="0.0.10">
<a href="#version-0010" class="anchor"></a>version 0.0.10<small> 2020-12-02 </small>
</h1>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug fixes</h2>
<ul>
<li>CRAN error on one flavour of Linux</li>
<li>erroneous <code>checkPath</code> error creating <code>Specified path xxxx doesn't exist</code> even though it does.</li>
</ul>
</div>
</div>
    <div id="version-009" class="section level1">
<h1 class="page-header" data-toc-text="0.0.9">
<a href="#version-009" class="anchor"></a>version 0.0.9<small> 2020-11-30 </small>
</h1>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New features</h2>
<ul>
<li>
<code>modifyList2</code>, a generalization of <code><a href="https://rdrr.io/r/utils/modifyList.html">utils::modifyList</a></code> for &gt;2 lists. Also, can handle NULL lists.</li>
<li>slight improvements in speed for some internal functions</li>
<li>
<code>detachAll</code> now unloads reverse depends of the depends, if they are loaded</li>
</ul>
</div>
<div id="bug-fixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-2" class="anchor"></a>Bug fixes</h2>
<ul>
<li>deals with more cases of installing arbitrary packages from a <code>packageVersion.txt</code> file</li>
<li>Does not mistakenly create a new, empty directory of packages to accommodate 2 <code>LibPaths</code> from <code>packageVersion.txt</code> file, <em>if the second (or more) <code>LibPath</code></em> is full of base packages.</li>
<li>Handles better false positives (packages did not install properly when they did) and some false negatives (no error collected at end when there was an error in installing)</li>
<li>better suggestion of what to do in some edge cases of failed package installs</li>
<li>captures and deals with a bug in <code>install.packages</code> (<code>argument "av2" is missing, with no default</code>) on R-devel for Windows (on Sept 09, 2020). May be transient.</li>
<li>Was, by default, installing from <code>source</code> on Windows. Fixed.</li>
</ul>
</div>
</div>
    <div id="version-008" class="section level1">
<h1 class="page-header" data-toc-text="0.0.8">
<a href="#version-008" class="anchor"></a>version 0.0.8<small> 2020-09-10 </small>
</h1>
<div id="new-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>New features</h2>
<ul>
<li>GitHub SHA is now stored during <code>pkgSnapshot</code>, meaning that a new system can be built with exact versions and SHAs of GitHub packages.</li>
<li>For GitHub packages, now uses both DESCRIPTION and NAMESPACE files to determine dependencies. GitHub packages are generally for packages in some state of development. This may include missing declarations in DESCRIPTION. NAMESPACE is what R uses to actually determine package dependencies upon installation.</li>
<li>Now keeps the binary/source package locally if <code><a href="https://rdrr.io/r/base/options.html">options("Require.RPackageCache" = "someLocalDir")</a></code> is set to a local folder. Currently defaults to NULL, meaning no local cache.</li>
<li>
<code>Require</code> and <code>pkgSnapshot</code> can now understand and work with GitHub SHAs and thus packages installed from GitHub, e.g., <code><a href="../reference/Require-package.html">Require("PredictiveEcology/Require@development")</a></code> will install the development version. When using <code>pkgSnapshot</code>, the exact SHA will be used to restore that package at the exact version with <code><a href="../reference/Require-package.html">Require(packageVersionFile = "packageVersions.txt")</a></code>.</li>
<li>If a package is already loaded prior to changing running <code>setLibPaths</code>, it is possible to create a version conflict. <code><a href="https://rdrr.io/r/base/library.html">base::require</a></code> will error if the version in the <code><a href="https://rdrr.io/r/base/libPaths.html">.libPaths()</a></code> is older than the version whose namespace is already loaded. To accommodate this, there is a check for this error, and if the newer version (that is already loaded) does not violate the <code><a href="../reference/Require-package.html">Require('package (versionSpecification)')</a></code>, then it will install the newer version. If it does violate the version specification, it will error cleanly with a message describing the possible solutions.</li>
<li>Much better messaging and reporting</li>
<li>New function: <code>detachAll</code> that attempts to detach and unload packages and all their dependencies, in reverse topological order.</li>
<li>Speed improvements, especially with <code>pkgDep</code> and <code>pkgDepTopoSort</code>
</li>
<li>New function <code>pkgDepAlt</code> which is an alternative to <code>pkgDep</code>, yet easier to maintain and still experimental. It is not yet the workhorse inside <code>Require</code>, but it may become that.</li>
<li>Now correctly removes spaces and tab characters within a package version description – this was creating an error such as <code>Error: invalid version specification '    3.3-13'</code>
</li>
</ul>
</div>
<div id="bug-fixes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-3" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code>pkgDepTopoSort</code> now appears to be correct for all types of package descriptions currently allowed by <code>Require</code>, namely, packages with no version specification, packages with version specification (including older versions), and GitHub packages.</li>
<li>many minor edge cases</li>
</ul>
</div>
</div>
    <div id="version-007" class="section level1">
<h1 class="page-header" data-toc-text="0.0.7">
<a href="#version-007" class="anchor"></a>version 0.0.7<small> 2020-08-18 </small>
</h1>
<div id="new-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>New features</h2>
<ul>
<li>no longer sets CRAN repository to cloud.r-project.org even if non-interactive with no CRAN repository set. Now uses <code><a href="https://rdrr.io/r/utils/chooseCRANmirror.html">chooseCRANmirror(ind = 1)</a></code>
</li>
</ul>
</div>
<div id="bug-fixes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-4" class="anchor"></a>Bug fixes</h2>
<ul>
<li>fixes CRAN check issues on Fedora.</li>
</ul>
</div>
</div>
    <div id="version-006" class="section level1">
<h1 class="page-header" data-toc-text="0.0.6">
<a href="#version-006" class="anchor"></a>version 0.0.6<small> 2020-08-11 </small>
</h1>
<div id="new-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>New features</h2>
<ul>
<li>none</li>
</ul>
</div>
<div id="bug-fixes-5" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-5" class="anchor"></a>Bug fixes</h2>
<ul>
<li>fixed CRAN check issues.</li>
<li>default repo now uses option <code>repos</code> instead of specifying CRAN repo.</li>
</ul>
</div>
</div>
    <div id="version-005" class="section level1">
<h1 class="page-header" data-toc-text="0.0.5">
<a href="#version-005" class="anchor"></a>version 0.0.5<small> 2020-07-17 </small>
</h1>
<div id="new-features-5" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-5" class="anchor"></a>New features</h2>
<ul>
<li>moved several functions that have to do with package loading and installing from <code>reproducible</code> to <code>Require</code>, including <code>pkgDep</code>, <code>pkgDepTopoSort</code>.</li>
</ul>
</div>
<div id="bug-fixes-6" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-6" class="anchor"></a>Bug fixes</h2>
<ul>
<li>recursive <code>pkgDep</code> did not correctly resolve multiple instances of the same package, each with different minimum version numbering. Now it reports minimum version required for all package dependencies.</li>
<li>minor changes in non-exported functions</li>
<li>handling of bugs in <code>base::available.packages</code> for old Mac machines and R versions</li>
</ul>
</div>
</div>
    <div id="version-004" class="section level1">
<h1 class="page-header" data-toc-text="0.0.4">
<a href="#version-004" class="anchor"></a>version 0.0.4<small> 2020-06-05 </small>
</h1>
<div id="bug-fixes-7" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-7" class="anchor"></a>Bug fixes</h2>
<ul>
<li>remove <code>installed.packages</code> from test code, as per CRAN request</li>
</ul>
</div>
</div>
    <div id="version-003" class="section level1">
<h1 class="page-header" data-toc-text="0.0.3">
<a href="#version-003" class="anchor"></a>version 0.0.3<small> Unreleased </small>
</h1>
<ul>
<li>Change title to Title Case in DESCRIPTION</li>
</ul>
</div>
    <div id="version-002" class="section level1">
<h1 class="page-header" data-toc-text="0.0.2">
<a href="#version-002" class="anchor"></a>version 0.0.2<small> Unreleased </small>
</h1>
<ul>
<li>Change backticks to single quotes in DESCRIPTION</li>
</ul>
</div>
    <div id="version-001" class="section level1">
<h1 class="page-header" data-toc-text="0.0.1">
<a href="#version-001" class="anchor"></a>version 0.0.1<small> Unreleased </small>
</h1>
<div id="new-features-6" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-6" class="anchor"></a>New features</h2>
<ul>
<li>This is a rewrite of the function, <code>Require</code> (and helpers) which will be removed from package <code>reproducible</code>
</li>
<li>This function is intended to be a tool for package management used within a “reproducible” workflow</li>
<li>It differs from all other attempts at achieving this goal by having the trait that the first and subsequent times the function <code>Require</code> is run, the result will be the same</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


